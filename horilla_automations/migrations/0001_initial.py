# Generated by Django 4.2.21 on 2025-08-19 04:39

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('base', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('employee', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='MailAutomation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Created At')),
                ('is_active', models.BooleanField(default=True, verbose_name='Is Active')),
                ('title', models.CharField(max_length=256, unique=True)),
                ('method_title', models.CharField(editable=False, max_length=100)),
                ('model', models.CharField(choices=[('offboarding.models.OffboardingTask', 'OffboardingTask'), ('onboarding.models.OnboardingStage', 'OnboardingStage'), ('recruitment.models.SkillZoneCandidate', 'SkillZoneCandidate'), ('pms.models.Meetings', 'Meetings'), ('employee.models.EmployeeWorkInformation', 'EmployeeWorkInformation'), ('helpdesk.models.Comment', 'Comment'), ('onboarding.models.OnboardingPortal', 'OnboardingPortal'), ('leave.models.LeaveRequest', 'LeaveRequest'), ('payroll.models.models.Contract', 'Contract'), ('leave.models.AvailableLeave', 'AvailableLeave'), ('leave.models.LeaverequestComment', 'LeaverequestComment'), ('biometric.models.BiometricEmployees', 'BiometricEmployees'), ('payroll.models.models.Deduction', 'Deduction'), ('recruitment.models.Recruitment', 'Recruitment'), ('recruitment.models.RecruitmentSurveyAnswer', 'RecruitmentSurveyAnswer'), ('recruitment.models.Candidate', 'Candidate'), ('base.models.PenaltyAccounts', 'PenaltyAccounts'), ('pms.models.MeetingsAnswer', 'MeetingsAnswer'), ('employee.models.Policy', 'Policy'), ('recruitment.models.Stage', 'Stage'), ('payroll.models.models.LoanAccount', 'LoanAccount'), ('base.models.RotatingWorkTypeAssign', 'RotatingWorkTypeAssign'), ('attendance.models.AttendanceOverTime', 'AttendanceOverTime'), ('helpdesk.models.ClaimRequest', 'ClaimRequest'), ('recruitment.models.CandidateDocumentRequest', 'CandidateDocumentRequest'), ('payroll.models.models.ReimbursementrequestComment', 'ReimbursementrequestComment'), ('pms.models.Feedback', 'Feedback'), ('recruitment.models.CandidateRating', 'CandidateRating'), ('facedetection.models.EmployeeFaceDetection', 'EmployeeFaceDetection'), ('helpdesk.models.DepartmentManager', 'DepartmentManager'), ('accessibility.models.DefaultAccessibility', 'DefaultAccessibility'), ('offboarding.models.OffboardingNote', 'OffboardingNote'), ('asset.models.AssetRequest', 'AssetRequest'), ('pms.models.Objective', 'Objective'), ('onboarding.models.CandidateTask', 'CandidateTask'), ('pms.models.AnonymousFeedback', 'AnonymousFeedback'), ('onboarding.models.OnboardingTask', 'OnboardingTask'), ('helpdesk.models.Ticket', 'Ticket'), ('attendance.models.WorkRecords', 'WorkRecords'), ('base.models.ShiftRequestComment', 'ShiftRequestComment'), ('leave.models.LeaveRequestConditionApproval', 'LeaveRequestConditionApproval'), ('horilla_automations.models.MailAutomation', 'MailAutomation'), ('horilla_documents.models.Document', 'Document'), ('offboarding.models.OffboardingEmployee', 'OffboardingEmployee'), ('attendance.models.Attendance', 'Attendance'), ('base.models.DashboardEmployeeCharts', 'DashboardEmployeeCharts'), ('leave.models.CompensatoryLeaverequestComment', 'CompensatoryLeaverequestComment'), ('project.models.TimeSheet', 'TimeSheet'), ('pms.models.Answer', 'Answer'), ('pms.models.Comment', 'Comment'), ('payroll.models.models.Payslip', 'Payslip'), ('pms.models.EmployeeObjective', 'EmployeeObjective'), ('project.models.Project', 'Project'), ('pms.models.EmployeeBonusPoint', 'EmployeeBonusPoint'), ('recruitment.models.StageNote', 'StageNote'), ('project.models.Task', 'Task'), ('attendance.models.AttendanceLateComeEarlyOut', 'AttendanceLateComeEarlyOut'), ('base.models.WorkTypeRequestComment', 'WorkTypeRequestComment'), ('base.models.RotatingWorkType', 'RotatingWorkType'), ('offboarding.models.ResignationLetter', 'ResignationLetter'), ('base.models.NotificationSound', 'NotificationSound'), ('recruitment.models.CandidateDocument', 'CandidateDocument'), ('employee.models.Employee', 'Employee'), ('leave.models.LeaveallocationrequestComment', 'LeaveallocationrequestComment'), ('employee.models.BonusPoint', 'BonusPoint'), ('payroll.models.models.Reimbursement', 'Reimbursement'), ('base.models.WorkTypeRequest', 'WorkTypeRequest'), ('base.models.RotatingShiftAssign', 'RotatingShiftAssign'), ('payroll.models.models.WorkRecord', 'WorkRecord'), ('django.contrib.auth.models.User', 'User'), ('recruitment.models.InterviewSchedule', 'InterviewSchedule'), ('horilla_documents.models.DocumentRequest', 'DocumentRequest'), ('leave.models.CompensatoryLeaveRequest', 'CompensatoryLeaveRequest'), ('base.models.RotatingShift', 'RotatingShift'), ('leave.models.LeaveAllocationRequest', 'LeaveAllocationRequest'), ('payroll.models.models.Allowance', 'Allowance'), ('pms.models.KeyResultFeedback', 'KeyResultFeedback'), ('employee.models.EmployeeBankDetails', 'EmployeeBankDetails'), ('base.models.AnnouncementComment', 'AnnouncementComment'), ('recruitment.models.RejectedCandidate', 'RejectedCandidate'), ('employee.models.EmployeeNote', 'EmployeeNote'), ('asset.models.AssetAssignment', 'AssetAssignment'), ('onboarding.models.CandidateStage', 'CandidateStage'), ('offboarding.models.Offboarding', 'Offboarding'), ('recruitment.models.HistoricalCandidate', 'HistoricalCandidate'), ('attendance.models.AttendanceActivity', 'AttendanceActivity'), ('attendance.models.AttendanceRequestComment', 'AttendanceRequestComment'), ('pms.models.EmployeeKeyResult', 'Employee Key Results'), ('asset.models.Asset', 'Asset'), ('offboarding.models.OffboardingStage', 'OffboardingStage'), ('base.models.Announcement', 'Announcement'), ('base.models.ShiftRequest', 'ShiftRequest'), ('employee.models.DisciplinaryAction', 'DisciplinaryAction'), ('auditlog.models.LogEntry', 'LogEntry')], max_length=100)),
                ('mail_to', models.TextField(verbose_name='Mail to/Notify to')),
                ('mail_details', models.CharField(help_text='Fill mail template details(reciever/instance, `self` will be the person who trigger the automation), `As template` option will sent instead of the mail template', max_length=250)),
                ('mail_detail_choice', models.TextField(default='', editable=False)),
                ('trigger', models.CharField(choices=[('on_create', 'On Create'), ('on_update', 'On Update'), ('on_delete', 'On Delete')], max_length=10)),
                ('delivery_channel', models.CharField(choices=[('email', 'Send as Email'), ('notification', 'Send as Notification'), ('both', 'Send as Email and Notification')], default='email', max_length=50, verbose_name='Choose Delivery Channel')),
                ('condition_html', models.TextField(editable=False, null=True)),
                ('condition_querystring', models.TextField(editable=False, null=True)),
                ('condition', models.TextField()),
                ('also_sent_to', models.ManyToManyField(blank=True, to='employee.employee', verbose_name='Also Send to')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Created By')),
                ('mail_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='base.horillamailtemplate')),
                ('modified_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_modified_by', to=settings.AUTH_USER_MODEL, verbose_name='Modified By')),
                ('template_attachments', models.ManyToManyField(blank=True, related_name='template_attachment', to='base.horillamailtemplate')),
            ],
            options={
                'abstract': False,
            },
        ),
    ]
